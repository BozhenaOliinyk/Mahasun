{% extends 'base.html' %}
{% block content %}
<main class="edit-container">
    <header class="form-header">
        <h2>{% if obj %}Редагувати дані{% else %}Додати{% endif %} працівника</h2>
    </header>

    <section class="form-section">
        <form class="edit-form" method="POST">
            {% csrf_token %}

            <fieldset class="form-fieldset">
                <legend class="visually-hidden">Працівник</legend>

                <div class="form-group">
                    <label for="id_last_name">Прізвище</label>
                    <input type="text" id="id_last_name" name="last_name" value="{{ obj.last_name|default:'' }}" required>
                </div>

                <div class="form-group">
                    <label for="id_first_name">Ім'я</label>
                    <input type="text" id="id_first_name" name="first_name" value="{{ obj.first_name|default:'' }}" required>
                </div>

                <div class="form-group">
                    <label for="id_fathers_name">По батькові</label>
                    <input type="text" id="id_fathers_name" name="fathers_name" value="{{ obj.fathers_name|default:'' }}">
                </div>

                <div class="form-group">
                    <label for="id_position">Посада</label>
                    <input type="text" id="id_position" name="position" value="{{ obj.position|default:'' }}">
                </div>

                <div class="form-group">
                    <label for="id_shift">Зміна (номер)</label>
                    <input type="number" id="id_shift" name="shift" value="{{ obj.shift|default:'' }}">
                </div>

                <div class="form-group">
                    <label for="id_outlet">Торгова точка</label>
                    <select name="outlet_id" id="id_outlet" required class="full-width-select">
                        <option value="">-- Оберіть точку --</option>
                        {% for outlet in outlets %}
                            <option value="{{ outlet.id }}" {% if obj.outlet_id == outlet.id %}selected{% endif %}>
                                {{ outlet.name }} ({{ outlet.address }})
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="id_phone">Номер телефону</label>
                    <input type="text" id="id_phone" name="phone_number" value="{{ obj.phone_number|default:'' }}">
                </div>
            </fieldset>

            <footer class="form-actions">
                <button type="submit" class="btn-main">Зберегти</button>
            </footer>
        </form>

        {% if obj %}
        <aside class="danger-zone">
            <form action="{% url 'employee_delete' obj.pk %}" method="POST">
                {% csrf_token %}
                <button type="submit" class="btn-delete">Видалити</button>
            </form>
        </aside>
        {% endif %}

        <nav class="navigation-actions">
            <a href="{% url 'employee_list' %}" class="btn-main btn-outline">Скасувати</a>
        </nav>
    </section>
</main>
{% endblock %}