{% extends 'base.html' %}

{% block content %}
<main class="edit-container">
    <header class="form-header">
        <h2>{% if obj %}Редагувати{% else %}Додати{% endif %} бонусну картку</h2>
    </header>

    <section class="form-section">
        <form class="edit-form" method="POST">
            {% csrf_token %}

            <fieldset class="form-fieldset">
                <legend class="visually-hidden">Бонусна картка</legend>

                <div class="form-group">
                    <label for="id_type">Тип картки</label>
                    <input type="text" id="id_type" name="type" value="{{ obj.type|default:'' }}" required>
                </div>

                <div class="form-group">
                    <label for="id_bonus">Нарахування бонусів (%)</label>
                    <input type="number" id="id_bonus" name="bonus_percent" value="{{ obj.bonus_percent|default:'' }}" required>
                </div>

                <div class="form-group">
                    <label for="id_discount">Знижка (%)</label>
                    <input type="number" id="id_discount" name="discount" value="{{ obj.discount|default:'' }}" required>
                </div>
            </fieldset>

            <footer class="form-actions">
                <button type="submit" class="btn-main">Зберегти</button>
            </footer>
        </form>

        {% if obj %}
        <aside class="danger-zone">
            <form action="{% url 'card_delete' obj.pk %}" method="POST">
                {% csrf_token %}
                <button type="submit" class="btn-delete" onclick="return confirm('Видалити цю картку?')">Видалити</button>
            </form>
        </aside>
        {% endif %}

        <nav class="navigation-actions">
            <a href="{% url 'card_list' %}" class="btn-main btn-outline">Скасувати</a>
        </nav>
    </section>
</main>
{% endblock %}
